steps:
- role: Arquiteta
  input: STORY.md
  prompt: PROMPTS/ARCHITECT.txt
  output: OUTPUTS/ARCH_WEB-004.md
  postconditions:
  - file_exists: OUTPUTS/ARCH_WEB-004.md
  - contains:
      file: OUTPUTS/ARCH_WEB-004.md
      must_include:
      - Diagrama
      - Pastas
      - Contratos
      - Decisões
      - Checklist
      - Riscos
- role: Backend
  input: OUTPUTS/ARCH_WEB-004.md
  prompt: PROMPTS/BACKEND.txt
  output: OUTPUTS/CODE_SCAFFOLD_WEB-004.zip
  postconditions:
  - file_exists: OUTPUTS/CODE_SCAFFOLD_WEB-004.zip
- role: Frontend
  input: OUTPUTS/ARCH_WEB-004.md
  prompt: PROMPTS/FRONTEND.txt
  output: OUTPUTS/FE_SCAFFOLD_WEB-004.zip
  postconditions:
  - file_exists: OUTPUTS/FE_SCAFFOLD_WEB-004.zip
- role: QA
  input: OUTPUTS/CODE_SCAFFOLD_WEB-004.zip
  prompt: PROMPTS/QA.txt
  output: OUTPUTS/TEST_SPEC_WEB-004.md
  postconditions:
  - file_exists: OUTPUTS/TEST_SPEC_WEB-004.md
  - contains:
      file: OUTPUTS/TEST_SPEC_WEB-004.md
      must_include:
      - Casos felizes
      - erro
      - mocks
      - Timeouts
      - cobertura
- role: Docs
  input:
  - OUTPUTS/ARCH_WEB-004.md
  - OUTPUTS/TEST_SPEC_WEB-004.md
  prompt: PROMPTS/DOCS.txt
  output: OUTPUTS/README_WEB-004.md
  postconditions:
  - file_exists: OUTPUTS/README_WEB-004.md
  - contains:
      file: OUTPUTS/README_WEB-004.md
      must_include:
      - Objetivo
      - Como rodar
      - APIs
      - Variáveis de ambiente
      - Limitações
- role: Review
  input:
  - OUTPUTS/ARCH_WEB-004.md
  - OUTPUTS/README_WEB-004.md
  prompt: PROMPTS/REVIEW.txt
  output: OUTPUTS/REVIEW_WEB-004.md
  postconditions:
  - file_exists: OUTPUTS/REVIEW_WEB-004.md
  - contains:
      file: OUTPUTS/REVIEW_WEB-004.md
      must_include:
      - Pontos fortes
      - Riscos
      - Gaps
      - MUST-FIX
      - Nota
